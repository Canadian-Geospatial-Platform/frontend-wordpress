!function(e){var t={};function n(i){if(t[i])return t[i].exports;var a=t[i]={i:i,l:!1,exports:{}};return e[i].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:i})},n.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=11)}({10:function(e,t){var n={init:function(){-1!==window.location.search.indexOf("pauple-insights")&&(this.initChart(),this.eventHandlers())},initChart:function(){var e=this,t={action:"insights",nonce:helpieInsightsNonce},n=[];jQuery.post(my_ajax_object.ajax_url,t,function(t){var i=JSON.parse(t);n=i;var a=e.getHappinessScore(n);if(Chart.pluginService.register({beforeDraw:function(e){var t=e.chart.width,n=e.chart.height,i=e.chart.ctx;i.restore(),(n/114).toFixed(2),i.font="bold 24px Helvetica, Arial, sans-serif",i.fillStyle="black",i.textBaseline="middle";var o=a,r=Math.round((t-i.measureText(o).width)/2),s=n/2-12;i.fillText(o,r,s),i.font="400 12px Helvetica, Arial, sans-serif",o="Happiness Score",r=Math.round((t-i.measureText(o).width)/2),s=n/2+15,i.fillText(o,r,s),i.save()}}),document.getElementById("myChart")){var o=document.getElementById("myChart").getContext("2d"),r=e.getChartData(n),s=e.getChartOptions();new Chart(o,{type:"doughnut",data:r,options:s})}})},getChartData:function(e){return{labels:["heart","smile","meh","frown"],datasets:[{label:"# of Votes",data:[e.heart,e.smile,e.meh,e.frown],backgroundColor:["rgba(216,  105, 131, 1)","rgba(186,  239,    175, 1)","rgba(247,  220,    165,     1)","rgba(232,  134, 131,    1)"],borderWidth:1,responsive:!0,maintainAspectRatio:!1}]}},getChartOptions:function(){return{inGraphDataShow:!0,startAngle:-180,inGraphDataTmpl:"<%=v2+' %'%>",percentageInnerCutout:90,inGraphDataFontSize:25,inGraphDataFontColor:"rgba(216,    105, 131, 1)",legend:{display:!1,labels:{fontFamily:"FontAwesome"},showLabel:!0}}},getTotalVotes:function(e){var t=0;for(var n in e)t+=e[n];return t},getHappinessScore:function(e){var t=3*this.getTotalVotes(e),n={heart:3,smile:1,meh:-1,frown:-2},i=0;for(var a in e)i+=e[a]*n[a];var o=i/t*10;return Math.round(100*o)/100},eventHandlers:function(){jQuery(".key-posts-nav li a").click(function(){jQuery(".post-list-section").hide(),jQuery(".key-posts-nav li").removeClass("active");var e=jQuery(this).attr("data-target");jQuery(e).show(),jQuery(this).parent("li").addClass("active")}),jQuery(".key-users-nav li a").click(function(){jQuery(".user-list-section").hide(),jQuery(".key-users-nav li").removeClass("active");var e=jQuery(this).attr("data-target");jQuery(e).show(),jQuery(this).parent("li").addClass("active")})}};e.exports=n},11:function(e,t,n){"use strict";n.r(t),n(32);var i=n(10),a=n(9),o=n(7);n(6),jQuery(document).ready(function(){i.init(),a.init(),o.init()})},32:function(e,t){},6:function(e,t){var n,i={save_envato_api_token:{before:"Verifying",success:" Success!",failure:" Failed....!"},check_for_update:{before:"John",success:"Doe"}},a="John",o="Doe";function r(e){if(n&&(3==n.readyState||2==n.readyState||1==n.readyState))return!1;var t=i[e.func],r=e.callbacks;delete e.callbacks,n=jQuery.ajax({url:ajaxurl,type:"POST",dataType:"json",data:e,beforeSend:function(){var n=a+t.before;r.before&&r.before(e,n)},error:function(t){r.error&&r.error(e,t)},success:function(n){if(!n.success)return r.error&&r.error(e,n),!1;var i=o+t.success;r.success&&r.success(e,n,i)}})}jQuery(document).ready(function(){jQuery(document).on("click","#helpie-save-envato-api-token",function(){jQuery(this);var e=jQuery(".plugin-activation.helpie-segment").find(".spinner");r({nonce:helpieUpdateNonce,action:"helpie_admin_ajax",func:"save_envato_api_token",token:jQuery('[name="helpie_envato_api_token"]').val(),callbacks:{before:function(t,n){e.css("visibility","visible").show(),e.nextAll("strong").html(i[t.func].before)},success:function(t,n,a){e.css("visibility","visible").hide(),e.nextAll("strong").html(i[t.func].success),location.reload(),e.nextAll("strong").css("color","#61BC2F")},error:function(t,n){i[t.func].failure;var a=n.message;e.css("visibility","visible").hide(),e.nextAll("strong").html(a),e.nextAll("strong").css("color","#E93F33")}}})}),jQuery(document).on("click","#helpie-check-update",function(){var e=jQuery(this);r({nonce:helpieUpdateNonce,action:"helpie_admin_ajax",func:"check_for_update",callbacks:{before:function(t,n){e.find("i").addClass("loading")},success:function(t,n,i){setTimeout(function(){jQuery(".remote-status").css("visibility","visible"),n.message?jQuery(".remote-status").html(n.message):jQuery(".remote-status").html(jQuery(n.content).html()),e.find("i").removeClass("loading"),e.find("i").removeClass("sync"),e.find("i").addClass("check")},1500)},error:function(t,n){setTimeout(function(){jQuery(".remote-status").css("visibility","visible"),n.message?jQuery(".remote-status").html(n.message):jQuery(".remote-status").html(jQuery(n.content).html()),e.find("i").removeClass("loading")},1500)}}})}),jQuery(document).on("click",".update-now.tg-button-live-update",function(e){var t=jQuery(this);t.nextAll(".spinner").css("visibility","visible").show(),t.nextAll("strong").html(i.Update_Plugin_Class.before),jQuery(".remote-status").html("updating...")})})},7:function(e,t){var n={updateField:function(e){var t=jQuery(e).closest(".helpie-field-row").find("input[type=hidden]"),n=[];jQuery(e).closest(".dropdown").find("a.label").each(function(e){n.push(jQuery(this).attr("data-value"))});var i=n.join(",");t.val(i)},getInputValue:function(e,t){var n=jQuery(e).closest(".helpie-field-row").find("input[type=hidden]").val();if(n)var i=n.split(",");else i=t;return i},initMultiDropDown:function(e,t){var n=this;jQuery(e).dropdownX("set selected",t).dropdownX({onChange:function(){setTimeout(function(){n.updateField(e)},500)}})},eventHandler:function(){var e=this;jQuery(".helpie-field.multi_dropdown").each(function(){var t=e.getInputValue(this,"all");e.initMultiDropDown(this,t)})},init:function(){this.eventHandler()}};e.exports=n,jQuery(document).ready(function(){jQuery(document).on("widget-added",function(e,t){n.init()}),jQuery(document).on("widget-updated",function(e,t){n.init()})})},8:function(e,t){var n=!0,i=".checkbox.check_all_checkbox",a=".list .master.checkbox",o=".delete-demo-button",r={init:function(){this.eventHandlers()},eventHandlers:function(){this.isOnboardPage(),this.deleteDemo(),this.masterCheckBox(),this.childCheckBox()},isOnboardPage:function(){new URL(window.location.href).searchParams.get("page"),n&&this.setDemoData(),n=!1},setDemoData:function(){jQuery.get(my_ajax_object.ajax_url,{action:"helpie_onboarding"},function(e){window.helpieDemosData=JSON.parse(e)})},deleteDemo:function(){jQuery(o).on("click",function(e){e.preventDefault();var t=jQuery(this);t.children().addClass("loading"),t.addClass("disabled"),r.submitDemoDeleteEntries()})},getDemoEntries:function(){var e={checked_all:1};return jQuery(i).hasClass("checked")||(e.checked_all=0,jQuery(a).each(function(){var t=jQuery(this).closest(".checkbox").siblings(".list").find(".checkbox"),n=jQuery(this),i=n.find("[type=checkbox]").attr("name");e[i]={},n.checkbox("is checked")?t.find("[type=checkbox]").each(function(t){e[i][t]=jQuery(this).attr("name")}):t.each(function(t){jQuery(this).checkbox("is checked")&&(e[i][t]=jQuery(this).find("[type=checkbox]").attr("name"))})})),e},submitDemoDeleteEntries:function(){var e={action:"helpie_delete_demo_entries",entries:r.getDemoEntries()};jQuery.post(my_ajax_object.ajax_url,e,function(e,t){if("success"===t){var n=JSON.parse(e),i=n.notice?n.notice:n.error;jQuery(".basic.delete-demo-button").after("<div class='import-demo-response'>"+i+"</div>"),jQuery(o).children().removeClass("loading"),setInterval(function(){window.location.reload()},6e3)}"error"===t&&(alert("something went wrong !!"),setInterval(function(){window.location.reload()},6e3))})},masterCheckBox:function(){jQuery(a).checkbox({onChecked:function(){jQuery(this).closest(".checkbox").siblings(".list").find(".checkbox").checkbox("check")},onUnchecked:function(){jQuery(this).closest(".checkbox").siblings(".list").find(".checkbox").checkbox("uncheck")}}),jQuery(i).checkbox({onChecked:function(){jQuery(a).each(function(){var e=jQuery(this).closest(".checkbox").siblings(".list").find(".checkbox");e.checkbox("check"),jQuery(this).checkbox("disable"),e.checkbox("disable")})},onUnchecked:function(){var e=jQuery(a);e.each(function(){var t=jQuery(e).closest(".checkbox").siblings(".list").find(".checkbox");t.checkbox("uncheck"),jQuery(this).checkbox("enable"),t.checkbox("enable")})}})},childCheckBox:function(){jQuery(".list .child.checkbox").checkbox({fireOnInit:!0,onChange:function(){var e=jQuery(this).closest(".list"),t=e.closest(".item").children(".checkbox"),n=!0,i=!0;e.find(".checkbox").each(function(){jQuery(this).checkbox("is checked")?i=!1:n=!1}),n?t.checkbox("set checked"):i?t.checkbox("set unchecked"):t.checkbox("set indeterminate")}})}};e.exports=r},9:function(e,t,n){var i=n(8),a=".helpie-element.onboarding .steps",o=".helpie-element.onboarding .previous.button",r=".helpie-element.onboarding .next.button",s=".helpie-element.onboarding .page_setup.form",c=".helpie-element.onboarding .demo_setup.form",l=".helpie-element.onboarding .form .categories.selection.multiple.dropdown",u={init:function(){i.init(),this.eventhandlers()},eventhandlers:function(){var e=this;jQuery(".helpie-element.onboarding .form [name='page_type'].dropdown").dropdownX({onChange:function(t,n){e.onPageTypeSelect(t,n),setTimeout(function(){jQuery(s).form("validate form")},1)}}),jQuery(l).dropdownX(),jQuery(".helpie-element.onboarding .form .radio.checkbox").checkbox({onChecked:function(){var t=jQuery(this).attr("value");e.setCategoryValues(t)}}),e.onNavButtonClicks(),e.formValidation(s),e.formValidation(c)},onPageTypeSelect:function(e,t){var n=jQuery(".helpie-element.onboarding .form").children(),i={nameField:jQuery(n[1]),slugField:jQuery(n[2]),label:"Name of your "+t,type:e,text:t};this.updateNameandSlugFields(i)},updateNameandSlugFields:function(e){e.nameField.find("label").text(e.label),this.updateField(e.nameField,"page_name",e.text),this.updateField(e.slugField,"page_slug",e.type)},updateField:function(e,t,n){var i=n;"page_slug"==t&&(n="documentation"==(n="knowledge_base"==n?"kb":n)?"docs":n),e.find("[name='"+t+"']").attr("placeholder",i).attr("value",n)},setCategoryValues:function(e){for(var t=window.helpieDemosData[e].categories,n=[{name:"All",value:"all",selected:!0}],i=0;i<t.length;i++)n[i+1]={name:t[i].name,value:t[i].slug};jQuery(l).dropdownX({values:n,placeholder:"Select a Catgory"})},onNavButtonClicks:function(){var e=this;jQuery(r).on("click",function(t){t.preventDefault(),jQuery(s).form("validate form"),jQuery(c).form("validate form");var n=jQuery(s).form("is valid"),i=jQuery(c).form("is valid");n&&i&&e.setNavsWrap("next")}),jQuery(o).on("click",function(t){t.preventDefault(),e.setNavsWrap("prev")}),e.setNavClickEvent()},formValidation:function(e){jQuery(e).form({fields:{page_type:"empty",page_name:"empty",page_slug:"empty",categories:"empty",demo:"checked"}})},submitOnboard:function(){var e=jQuery(s).form("get values"),t=jQuery(c).form("get values"),n={action:"helpie_onboarding_submit",page:e,demo:t,items:window.helpieDemosData[t.demo]},i=jQuery(".helpie-element.onboarding .dimmer");i.addClass("active"),jQuery.post(my_ajax_object.ajax_url,n,function(e,t){if("success"===t){i.removeClass("active");var n=JSON.parse(e);u.resultHtml(n)}"error"===t&&(i.removeClass("active"),alert("something wrong happened"))})},resultHtml:function(e){for(var t=jQuery(".helpie-element.onboarding .finish_page"),n=jQuery(s).form("get values"),i="<p>",a=0;a<e.error.notice.length;a++)i+=e.error.notice[a].message+"</br>";i+="</p>",t.html(i);var o="";o+="<a class='ui labeled icon small button mainpage-link' href='http://"+window.location.hostname+"/"+n.page_slug+"/'>",o+="Visit Main Page",o+="<i class='external alternate icon'></i>",o+="</a>",t.after(o)},setNavsWrap:function(e){this.setActive("step",e),this.setActive("section",e),this.setNavClickEvent()},setActive:function(e,t){var n="active "+e,i=jQuery("section"==e?".helpie-element.onboarding .sections":a).find(".active."+e).attr("class",e);"next"==t?i.next().attr("class",n):"prev"==t&&i.prev().attr("class",n)},setNavClickEvent:function(){var e=jQuery(o),t=jQuery(r),n=jQuery(a),i=e.hasClass("disabled"),s=this.hasActive(n,"last");this.hasActive(n,"first")?(e.addClass("disabled"),t.text("Next")):s?(t.addClass("disabled"),e.parent().hide(),n.children().last().addClass("completed"),this.submitOnboard()):i&&(e.removeClass("disabled"),t.text("Finish"))},hasActive:function(e,t){var n;return"first"==t?n=e.children().first().hasClass("active"):"last"==t&&(n=e.children().last().hasClass("active")),n}};e.exports=u}});
//# sourceMappingURL=kb-admin-app.bundle.js.map