!function(e){var t={};function i(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},i.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=19)}([function(e,t,i){!function(){"use strict";var t=".nanobar{width:100%;height:4px;z-index:9999;top:0}.bar{width:0;height:100%;transition:height .3s;background:#000}";function i(e,t){e.classList?e.classList.add(t):e.className+=" "+t}e.exports=function(e){e=e||{};var n,a=document.createElement("div"),r={el:a,go:function(e){n(e),100===e&&l()}};function o(e){a.removeChild(e)}function l(){var e=function(e){var t=document.createElement("div"),n=0,a=0,r=0,o={el:t,go:c};function l(){var i=n-a;i<.1&&-.1<i?(s(a),r=0,100===n&&(t.style.height=0,setTimeout(function(){e(t)},300))):(s(n-i/4),setTimeout(c,16))}function s(e){n=e,t.style.width=n+"%"}function c(e){0<=e?(a=e,r||(r=1,l())):r&&l()}return i(t,"bar"),o}(o);a.appendChild(e.el),n=e.go}return function(){var e=document.getElementById("nanobarcss");if(null===e){if((e=document.createElement("style")).type="text/css",e.id="nanobarcss",document.head.insertBefore(e,document.head.firstChild),!e.styleSheet)return e.appendChild(document.createTextNode(t));e.styleSheet.cssText=t}}(),i(a,"nanobar"),e.id&&(a.id=e.id),e.classname&&i(a,e.classname),e.target?(a.style.position="relative",e.target.insertBefore(a,e.target.firstChild)):(a.style.position="fixed",document.getElementsByTagName("body")[0].appendChild(a)),l(),r}}()},function(e,t){var i={debounce:function(e,t){var i=null;return function(){var n=this,a=arguments;clearTimeout(i),i=setTimeout(function(){e.apply(n,a)},t)}},removeParam:function(e,t){var i=t.split("?")[0],n=[],a=-1!==t.indexOf("?")?t.split("?")[1]:"";if(""!==a){for(var r=(n=a.split("&")).length-1;0<=r;r-=1)n[r].split("=")[0]===e&&n.splice(r,1);i=i+"?"+n.join("&")}return i}};e.exports=i},function(e,t){var i=".ui.dropdown",n=".article-categories-field #helpdesk_category",a={init:function(){this.eventHandlers()},eventHandlers:function(){this.onClick(),this.onSelect()},onClick:function(){jQuery(i).click(function(e){e.stopPropagation(),a._toggle(jQuery(this))}),jQuery(document).click(function(){jQuery(i+" .menu").hasClass("visible")&&a._hide(jQuery(i))})},onSelect:function(){jQuery(".article-categories-field #helpdesk_category .menu .item").click(function(){var e=jQuery(n),t=jQuery(this),i=e.find("input").val();e.find(".menu [data-value='"+i+"']").removeClass("active selected");var a=t.attr("data-value");e.find("input").val(a),e.find(".text").text(t.text()).removeClass("default"),t.addClass("active selected")})},get:function(e,t){var i=jQuery(e),n=i.find("input").val();return"item"==t?i.find(".menu [data-value='"+n+"']"):n},set:function(e,t){var i=jQuery(e),a=i.find(".menu [data-value='"+t+"']"),r=jQuery(n),o=r.find("input").val();r.find(".menu [data-value='"+o+"']").removeClass("active selected"),i.find("input").val(t),i.find(".text").text(a.text()).removeClass("default"),a.addClass("active selected")},_hide:function(e){e.removeClass("active visible").find(".menu").hide().removeClass("visible")},_show:function(e){e.addClass("active visible").find(".menu").show().addClass("visible")},_toggle:function(e){e.toggleClass("active visible").find(".menu").toggle().toggleClass("visible")}};e.exports=a},function(e,t,i){var n=i(4),a=i(2),r={loadPostValues:function(){var e=jQuery(".helpie-article-editor").data("post-id"),t={action:"helpie_ajax_get_article_info",nonce:helpieKBFrontEndNonce,post_id:e};jQuery.post(my_ajax_object.ajax_url,t,function(e){var t=JSON.parse(e),i=(t.post_title,t.post_content,t.category_id),r=t.tags_info;a.set(".article-categories-field #helpdesk_category",i),n.renderTerms(r)})},getLivePostData:function(){var e=jQuery(".helpie-article-editor").data("post-id"),t=jQuery(".helpie-article-editor .content-area .title").html();if(jQuery(".wp-editor-container").length){var i=tinymce.get("content-tinymce");if(null==i||"false"==jQuery("#content-tinymce").attr("aria-hidden"))var r=jQuery("#content-tinymce").val();else r=i.getContent()}else r=jQuery(".helpie-article-editor .content-area .editor-content").html();var o=jQuery("#helpdesk_category-input").val(),l=a.get(".article-categories-field #helpdesk_category","item"),s=jQuery(l).attr("data-parent");s=null==s?"0":s;var c="edit-article";jQuery(".helpie-article-editor").hasClass("add-article")&&(c="add-article");var u={post_id:e,post_title:t,post_content:r,tags:n.getCreatedTerms().join(","),category_id:o,parent_id:s,post_state:c};return jQuery(".helpie_kb_featured_image").attr("data-attachment")&&(u.attachment_id=jQuery(".helpie_kb_featured_image").attr("data-attachment")),u}};e.exports=r},function(e,t){var i={fieldSector:".article-terms-field",modalAddTags:function(){var e=this,t=jQuery(this.fieldSector+" input");t.bind("enterKey",function(t){var i=jQuery(this).val();e.appendTag(i),jQuery(this).val("")}),t.keyup(function(t){13==t.keyCode&&(jQuery(this).trigger("enterKey"),e.modalDeleteTags())})},renderTerms:function(e){if(e)for(var t=0;t<e.length;t++){var i=e[t].name;this.appendTag(i)}this.deleteEventHandler()},deleteEventHandler:function(){jQuery(this.fieldSector+" .terms-container span.single-term-cont").click(function(){jQuery(this).remove()})},getCreatedTerms:function(){var e=[];return jQuery(this.fieldSector+" .terms-container span.single-term-cont").each(function(t){var i=jQuery(this).children(".label").text();e.push(i)}),e},appendTag:function(e){for(var t=this.getCreatedTags(),i=!0,n=0;n<t.length;n++)t[n]==e&&(i=!1);if(1==i){var a="<span class='single-term-cont'>";a+="<span class='label'>"+e+"</span>",a+="<span>  </span>",a+="</span>",jQuery(".article-terms-field .terms-container").append(a)}},removeAllTags:function(){jQuery(this.fieldSector+" .terms-container").html("")},modalDeleteTags:function(){jQuery(this.fieldSector+" .terms-container span.single-term-cont").click(function(){jQuery(this).remove()})},getCreatedTags:function(){var e=[];return jQuery(this.fieldSector+" .terms-container span.single-term-cont").each(function(t){var i=jQuery(this).children(".label").text();e.push(i)}),e}};e.exports=i},,,,,,,,function(e,t,i){var n=i(3),a=new(i(0)),r={init:function(){this.eventsHandler()},eventsHandler:function(){var e=this;jQuery(".article-publish .remove").click(function(){e.removeRevision()})},removeRevision:function(){n.getLivePostData();var e=jQuery(".helpie-article-editor").data("revision-id"),t={action:"helpie_delete_revision",nonce:this.nonce,revision_id:e};a.go(100),jQuery.post(my_ajax_object.ajax_url,t,function(e){}).done(function(){toastr.warning(helpie_strings.onRevisionRemoved)})}};e.exports=r},function(e,t,i){var n=i(1),a=i(3),r=!1,o=new(i(0)),l={init:function(){this.eventHandler()},eventHandler:function(){var e=this;jQuery(".article-publish .publish").click(function(){r||(r=!0,e.publishArticle(),setTimeout(function(){r=!1},1e4))})},publishArticle:function(){var e=this,t=a.getLivePostData(),i={action:"helpie_publish",nonce:e.nonce,"action-type":"publish"};for(prop in t)i[prop]=t[prop];o.go(100),jQuery.post(my_ajax_object.ajax_url,i,function(i){var n=JSON.parse(i),a=n.post_id,r=n.permalink;e.goToEditMode(a,t,r),toastr.success(helpie_strings.onPublish)})},goToEditMode:function(e,t,i){var a=window.location.href;a=n.removeParam("link",a),"add-article"==t.post_state&&(a=n.removeParam("editor_mode",a),a+="post_id="+e),i&&(a+="&link="+i),setTimeout(function(){window.location.assign(a)},500)}};e.exports=l},function(e,t){var i={init:function(){this.eventsHandler()},eventsHandler:function(){var e=this;jQuery(".revisions .menu .item").click(function(){e.setCurrentRevision(this)})},setCurrentRevision:function(e){jQuery(".revisions .menu .item").removeClass("active"),jQuery(e).addClass("active");var t=jQuery(e).data("post-id"),i=jQuery(e).data("revision-id"),n=jQuery(e).data("previous-revision-id");jQuery(".helpie-article-editor").data("revision-id",i),this.getRevision(t,i,n)},getRevision:function(e,t,i){var n={action:"helpie_get_revision",nonce:helpieKBFrontEndNonce,post_id:e,revision_id:t,previous_revision_id:i};jQuery.post(my_ajax_object.ajax_url,n,function(e){var t=JSON.parse(e);jQuery(".helpie-article-editor .content-area .title").html(t.title),jQuery(".helpie-article-editor .content-area .editor-content").html(t.content),tinymce.get("content-tinymce").setContent(t.content);var i="";t.diff_array&&(t.diff_array[0]&&(i+=t.diff_array[0].diff),t.diff_array[1]&&(i+=t.diff_array[1].diff)),jQuery(".helpie-article-editor .revision-diff-area .table-area").html(i)})}};e.exports=i},function(e,t,i){var n=i(2),a={init:function(){this.eventHandler()},eventHandler:function(){var e=this;jQuery(".add-category input").bind("enterKey",function(t){e.addCategory(this)}),jQuery(".add-category input").keyup(function(e){13==e.keyCode&&jQuery(this).trigger("enterKey").val("")}),this.loadCategoriesIndendation(),this.addNewCategoryLabel()},addCategory:function(){var e=n.get(".article-categories-field #helpdesk_category","value");e=e||0;var t=jQuery(".add-category input").val();jQuery("#helpdesk_category").find(".menu").append('<div class="item" data-parent = "'+e+'"data-value="'+t+'" >'+t+"</div>"),n.set(".article-categories-field #helpdesk_category",t)},loadCategoriesIndendation:function(){var e=jQuery("#helpdesk_category.dropdown").find(".editor-dropdown").children(".item");0<(e=jQuery(e)).length&&e.each(function(){cat=jQuery(this);var e=cat.attr("data-level"),t="-",i=cat.text();t=t.repeat(e),cat.html(t+"&nbsp;"+i)})},addNewCategoryLabel:function(){jQuery(".add-category-label").click(function(){jQuery(this).find("i").toggleClass("minus plus"),jQuery(".add-category").toggle(),jQuery(".add-field-note").toggle();var e=jQuery("#helpdesk_category.dropdown").find(".editor-dropdown").children(".item");0<(e=jQuery(e)).length&&e.each(function(){cat=jQuery(this),-1==cat.attr("data-value")&&cat.toggle()})})}};e.exports=a},function(e,t){e.exports=tinymce},function(e,t,i){var n=i(16),a={init:function(e,t){"inlineFull"==t?this.inlineFull(e):this.inlineBasic(e)},inlineFull:function(e){var t=helpie_strings.pluginURL+"vendor-custom/tinymce/plugins/";n.init({selector:".helpie-article-editor .content-area .editor-content.tinymce",theme:"inlite",plugins:"image media link paste contextmenu textpattern autolink codesample",external_plugins:{table:t+"table/plugin.js",contextmenu:t+"contextmenu/plugin.min.js",textpattern:t+"textpattern/plugin.min.js",autolink:t+"autolink/plugin.min.js",codesample:t+"codesample/plugin.min.js"},codesample_languages:[{text:"HTML/XML",value:"markup"},{text:"JavaScript",value:"javascript"},{text:"CSS",value:"css"},{text:"PHP",value:"php"},{text:"Ruby",value:"ruby"},{text:"Python",value:"python"},{text:"Java",value:"java"},{text:"C",value:"c"},{text:"C#",value:"csharp"},{text:"C++",value:"cpp"},{text:"JSON",value:"json"},{text:"SQL",value:"sql"},{text:"bash",value:"bash"},{text:"markdown",value:"markdown"}],insert_toolbar:"quickimage media codesample",selection_toolbar:"bold italic | quicklink h2 h3 h4 h5 h6 blockquote codesample",inline:!0,paste_data_images:!0,convert_urls:!1,images_upload_url:helpie_strings.pluginURL+"features/postAcceptor.php?path="+helpie_strings.dirURL,automatic_uploads:!0,media_live_embeds:!0,init_instance_callback:function(e){""==n.get("content-tinymce").getContent()&&jQuery(".helpie-article-editor .content-area .editor-content").html("")}})},inlineBasic:function(){n.init({selector:".helpie-article-editor .content-area .title.tinymce",theme:"inlite",inline:!0,convert_urls:!1,selection_toolbar:"",init_instance_callback:function(e){""==n.get("title-tinymce").getContent()&&jQuery(".helpie-article-editor .content-area .title").html("")}})}};e.exports=a},function(e,t,i){var n=i(17),a=i(4);toastr.options.closeButton=!0,toastr.options.showMethod="fadeIn",toastr.options.hideMethod="fadeOut",toastr.options.closeMethod="fadeOut";var r=i(15),o=i(14),l=i(3),s=i(13),c=i(12),u={nonce:helpieKBFrontEndNonce,init:function(){n.init(".helpie-article-editor .content-area .title.tinymce","inlineBasic"),n.init(".helpie-article-editor .content-area .editor-content.tinymce","inlineFull"),a.modalAddTags(),this.eventsHandler(),r.init(),o.init(),s.init(),c.init(),jQuery(".helpie-article-editor").hasClass("add-article")||l.loadPostValues()},eventsHandler:function(){var e=this;jQuery(".article-publish .show-diff").click(function(){e.setDiffMode()}),jQuery(".article-publish .edit-article").click(function(){e.setEditMode()}),e.mobileEvents(),jQuery(window).resize(function(){window.innerWidth<=1024?jQuery(".helpie-edit-page-container .controls-section .sticky").hide():jQuery(".helpie-edit-page-container .controls-section .sticky").show()}),this.viewArticleNotice(),this.setFeaturedImage()},mobileEvents:function(){jQuery(document).mouseup(function(e){var t=jQuery(".helpie-edit-page-container .controls-section"),i=jQuery(".helpie-edit-page-container .controls-section .sticky");window.innerWidth<=1024&&(t.is(e.target)||0!==t.has(e.target).length||i.hide())}),jQuery(".helpie-edit-page-container .mobile-controls").click(function(){jQuery(".helpie-edit-page-container .controls-section .sticky").toggle()})},setDiffMode:function(){jQuery(".helpie-article-editor").addClass("diff-mode"),jQuery(".article-publish.buttons .edit-article").show(),jQuery(".article-publish.buttons .show-diff").hide(),jQuery(".article-publish.buttons .save-post").hide()},setEditMode:function(){jQuery(".helpie-article-editor").removeClass("diff-mode"),jQuery(".article-publish.buttons .edit-article").hide(),jQuery(".article-publish.buttons .show-diff").show(),jQuery(".article-publish.buttons .save-post").show()},viewArticleNotice:function(){var e=this.getQueryParams(document.location.search);if(e.link){var t="<a href='"+e.link+"' target='_blank'>"+helpie_strings.onVisit+"</a>";setTimeout(function(){toastr.info(t)},2e3)}},getQueryParams:function(e){e=e.split("+").join(" ");for(var t,i={},n=/[?&]?([^=]+)=([^&]*)/g;t=n.exec(e);)i[decodeURIComponent(t[1])]=decodeURIComponent(t[2]);return i},setFeaturedImage:function(){var e;jQuery("#helpie_kb_featured_upload_image_button").click(function(t){t.preventDefault(),e||(e=wp.media.frames.file_frame=wp.media({title:helpie_strings.chooseFeaturedImage,button:{text:helpie_strings.setFeaturedImage},multiple:!1})).on("select",function(){attachment=e.state().get("selection").first().toJSON(),jQuery("#helpie_kb_featured_upload_image").val(attachment.url);var t={action:"helpie_publish_img",nonce:helpieKBFrontEndNonce};location.search.replace(/[?&]+([^=&]+)=([^&]*)/gi,function(e,i,n){t[i]=n}),t.attachment_id=attachment.id,jQuery.post(my_ajax_object.ajax_url,t,function(e){var t=JSON.parse(e),i=jQuery(".helpie_kb_featured_image");t.src&&i.attr("src",t.src),t.attachment_id&&(i.attr("data-attachment",t.attachment_id),i.attr("src",attachment.url))})}),e.open()})}};e.exports=u},function(e,t,i){var n=i(18);jQuery(document).ready(function(){n.init()})}]);
//# sourceMappingURL=editor-app.bundle.js.map